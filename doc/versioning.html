
<!DOCTYPE html>
<html lang="en">
	<head>
		
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="description" content="A 3D game engine written in Go!">
		<meta name="author" content="The Azul3D Authors">
		<title>Azul3D</title>
		<link rel="shortcut icon" href="/content/favicon.png"> 

		
		<link rel="stylesheet" type="text/css" href="/content/reset.css">

		
		<link href='http://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Cutive+Mono' rel='stylesheet' type='text/css'>

		
		<link href='/content/dejavusans_book/stylesheet.css' rel='stylesheet' type='text/css'>

		
		<link href='/content/brandico/brandico.css' rel='stylesheet' type='text/css'>

		
		

		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

		
		<link rel="stylesheet" type="text/css" href="/content/stylesheet.css">
		<link rel="stylesheet" type="text/css" href="/content/mq.css">
	</head>
	<body>


<div id="top"></div>






































<div id="toparea">
	<div id="logo">
		<a href="/"><span class="biohazard">☣</span>
		<span>Azul3D</span></a>
	</div>

	<div id="shortbar">
		<a href="https://github.com/azul3d" target="_blank"><i class="icon-github menuIcon"></i><div class="title">GitHub</div></a>
		<a href="https://twitter.com/hashtag/azul3d" target="_blank"><i class="icon-twitter-bird menuIcon"></i><div class="title">Twitter</div></a>
		<a href="https://www.facebook.com/pages/Azul3D/651643168254798" target="_blank"><i class="icon-facebook menuIcon"></i><div class="title">Facebook</div></a>
		<a href="https://groups.google.com/forum/#!forum/azul3d" target="_blank" class="mail"><i class="menuIcon mailIcon">✉</i><div class="title">Mailing List</div></a>
	</div>
</div>

<div id="navigation">
	<h1>Navigation</h1>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="/">Home</a></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="/news">News</a></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="/packages.html">Packages</a></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="/doc/faq.html">FAQ</a></span></span>
	</span>
</div>


<div id="content-container">
	<div id="content" class="slim">



<h1 class="hdr ">Versioning</h1>
<span class="section ">
	<p>Azul3D packages are versioned such that when API compatible changes are made, programs using the previous package API are not broken. This document describes the versioning scheme used by Azul3D for all package imports.</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="#the-basics">The Basics</a></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="#development-versions">Development Versions</a></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="#implementation-git-tags">Implementation - Git Tags</a></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><a href="#implementation-google-app-engine">Implementation - Google App Engine</a></span></span>
	</span>
</span>


<h1 id="the-basics" class="hdr "><a href="#the-basics" title="permalink">»</a>&nbsp;The Basics <span class="toplink">(<a href="#top">top</a>)</span></h1>
<span class="section ">
	<p>In the most basic form a package import path has the following syntax:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">azul3d.org/somepkg.v(major)[.(minor)]</span></span></span>
	</span>

	<p>For instance the import path for <em>somepkg</em> whose major version is one would be:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">azul3d.org/somepkg.v1</span></span></span>
	</span>

	<p>Or the import path for <em>somepkg</em> whose major version is one and minor version is two:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">azul3d.org/somepkg.v1.2</span></span></span>
	</span>

	<p>Even though the import path ends with a version number, the package is still referenced in code the same exact way:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">somepkg.DoSomething()</span></span></span>
	</span>
	<p>This is because Go analyzes the package name from the source code files -- not the import URL.</p>
</span>


<h1 id="development-versions" class="hdr "><a href="#development-versions" title="permalink">»</a>&nbsp;Development Versions <span class="toplink">(<a href="#top">top</a>)</span></h1>
<span class="section ">
	<p>There is a special path extension, <em>.dev</em>, which signifies the in-development version of the package, like so:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">azul3d.org/somepkg.dev</span></span></span>
	</span>
	<p>This special extension should only be used if you need features only found in the in-development versions of packages, but most of the time you should never use it and instead stick with the most-recently released version (mentioned on the documentation page for that package).</p>
</span>


<h1 id="implementation-git-tags" class="hdr "><a href="#implementation-git-tags" title="permalink">»</a>&nbsp;Implementation - Git Tags <span class="toplink">(<a href="#top">top</a>)</span></h1>
<span class="section ">
	<p>In our implementation of versioning, we use git tags like "v1" or "v1.2" to reference a specifically released version. This is important for a few reasons:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><p>Tags can be moved to newer revisions, so that fixes can still be made to versions post-release (as long as no backwards-incompatible changes have been made yet).</p></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><p>Tags are easy to view through the GitHub API which makes writing versioned-documentation easy.</p></span></span>
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><p>Version tags can be viewed through the GitHub's website (which even allows downloading zipped archives of version releases).</p></span></span>
	</span>
</span>


<h1 id="implementation-google-app-engine" class="hdr "><a href="#implementation-google-app-engine" title="permalink">»</a>&nbsp;Implementation - Google App Engine <span class="toplink">(<a href="#top">top</a>)</span></h1>
<span class="section ">
	<p>The Go tool is not aware of tags as version numbers, this means that we must theoretically host a different repository for each version of each package. But in reality we can actually work around this by using some trickery:</p>

	<p>Using remote import path HTML meta tags (see <a href="http://golang.org/cmd/go/#hdr-Remote_import_paths">here</a>) the Go tool will let us alias an GitHub repository under a different domain name, such that the import path:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">github.com/azul3d/somepkg</span></span></span>
	</span>
	<p>Becomes:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">azul3d.org/somepkg</span></span></span>
	</span>

	<p>Then we make use of an appengine application responsible for acting as a proxy of sorts (view the source of this application <a href="https://github.com/azul3d/appengine">here</a>). For standard web requests, it simply makes a proxied request to our azul3d.github.io domain, where the entire website content generated through the <a href="https://github.com/azul3d/webgen">webgen</a> is hosted. In practice this is not slow because the website is fronted by <a href="https://www.cloudflare.com/">CloudFlare</a> which caches these requests</p>

	<p>When the appengine application receives a request from the go-get tool (signified by a URL query term "?go-get=1"), it first makes contact to GitHub to see if the repository exists, if it does then it serves a meta tag to go-get like:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">&lt;meta name=&quot;go-import&quot; content=&quot;azul3d.org/somepkg.v1 git azul3d.org/somepkg.v1/repo&quot;&gt;</span></span></span>
	</span>

	<p>Then go get wil run the git clone command like:</p>
	<span class="list">
		<span class="item"><span class="biohazard">☣</span>&nbsp;&nbsp;<span class="content"><span class="code">git clone azul3d.org/somepkg.v1/repo $GOPATH/src/azul3d.org/somepkg.v1</span></span></span>
	</span>

	<p>And since we claimed in the meta tag that <em>azul3d.org/somepkg.v1/repo</em> was our git repository, git clone issues a few HTTP requests to clone the repository hosted there. We intercept those requests and forward them over to GitHub, while also pointing them towards the correct version tag specified in the URL.</p>
</span>



	</div>
</div>


<div id="footer">
	<div>© 2014 The Azul3D Authors, All Rights Reserved.</div>
	<div>Unless noted otherwise, the content of this page is licensed under the Creative Commons Attribution 3.0 License, and code is licensed under a BSD license.</div>
</div>


<script>
$(document).ready(function() {
	$("body").css("opacity", 0);

	 
	var ValidIpAddressRegex = "^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";
	var redirect = window.location.hostname != 'azul3d.org';
	if(location.hostname == "localhost" || location.hostname.search(ValidIpAddressRegex) != -1) {
		
		
		redirect = false;
	}
	if(redirect){
	    window.top.location.href = 'http://azul3d.org'; 
	}
});

$(window).ready(function() {
	var fadeIn = function(self, delay) {
		self.css("opacity", 0).delay(delay).animate({opacity: 1}, "slow");
	}

	var fromSameSite = document.referrer.indexOf(location.protocol + "//" + location.host) === 0;


	
	
	var longPage = $(document).height() > $(window).height() * 3;
	if(fromSameSite || longPage) {
		fadeIn($("body"), 10);
	} else {
		var workingIndex = 0;
		var speed = 75;
		$("#content").children().each(function(index) {
			fadeIn($(this), 1000 + (speed * workingIndex));
			workingIndex++;
			if($(this).hasClass("list")) {
				$(this).children().each(function(index) {
					fadeIn($(this), 1000 + (speed * workingIndex));
					workingIndex++;
				});
			}
		});

		var w = $("#shortbar").width();
		$("#shortbar").css({
			right: -w-1 + "px",
			opacity: 0
		}).delay(10).animate({
			right: "0px",
			opacity: 1
			}, "slow");

		var w = $("#navigation").width();
		$("#navigation").css({
			left: -w-1 + "px",
			opacity: 0
		}).delay(10).animate({
			left: "0px",
			opacity: 1
			}, "slow");

		fadeIn($("#logo"), 10);
		fadeIn($("body"), 10);
	}
})
</script>
	</body>
</html>



